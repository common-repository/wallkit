!function(n){"use strict";n(window).load(function(){n(".wk-restore-button").on("click",function(t){confirm("Are you sure you want restore to defaults?\nAll current data will be cleaned.")||t.preventDefault()}),0<n("div#wk-tools-data").length&&t(),n("#stop-wk_sync_all_posts").on("click",function(){n.post(ajaxurl,{action:"wk_stop_sync_task"},function(t){})}),n("#continue-wk_sync_all_posts").on("click",function(){n.post(ajaxurl,{action:"wk_continue_sync_task"},function(t){})}),n("#pause-wk_sync_all_posts").on("click",function(){n.post(ajaxurl,{action:"wk_pause_sync_task"},function(t){})}),n("button#run-wk_sync_all_posts").on("click",function(){confirm("Notice: This process might consume significant server resources on large content database. Okay to proceed?")&&n.post(ajaxurl,{action:"wk_run_sync_task"},function(t){})}),n("#tabs").tabs()});var t=function(){setInterval(function(){n.post(ajaxurl,{action:"wk_check_sync_task"},function(t){var s;t.sync_posts_finished&&t.sync_posts_total&&(t.sync_posts_finished>t.sync_posts_total&&(t.sync_posts_total=t.sync_posts_finished),s=t.sync_posts_finished/t.sync_posts_total*100,n(".progress-ready").css("width",s+"%")),t.status&&n("#status").text(t.status),t.sync_posts_finished&&n("#posts_sync").text(t.sync_posts_finished),t.sync_posts_total&&n("#posts_total").text(t.sync_posts_total),t.sync_posts_failed&&n("#posts_failed").text(t.sync_posts_failed),t.start_time&&n("#start_time").text(o(t.start_time)),t.end_time?n("#end_time").text(o(t.end_time)):n("#end_time").text(""),t.log&&n("#last_log").html(t.log),t.last_time?n("#last_time").text(o(t.last_time)):n("#last_time").text(""),n("div.wk-loading").remove(),n("table#wk-content").css("opacity",1),t.sync_posts_finished&&t.last_time&&t.start_time&&(s=t.sync_posts_finished/(t.last_time-t.start_time),n("#sync_speed").text((t=s,s=2,(!isNaN(t)&&!isNaN(s)&&(s=Math.pow(10,s),Math.round(t*s)/s))+" posts per second")))})},2e3)};function o(t){return new Date(1e3*t).toLocaleString()}n(document).ready(function(t){var s=t("#wk_paywall_styles, #wk_my_account_styles"),s=(0<s.length&&s.each((t,s)=>{wp.codeEditor.initialize(s,window.codemirror_paywall_styles)}),t("#wk_additional_options")),s=(0<s.length&&wp.codeEditor.initialize(s,window.codemirror_additional_options),t("#wk_additional_script"));0<s.length&&wp.codeEditor.initialize(s,window.codemirror_additional_options)})}(jQuery);